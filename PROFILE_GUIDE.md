# 个人资料和提醒系统使用指南

## 📋 功能概述

新增的个人资料页面提供以下功能：

1. **个人信息管理** - 记录姓名、昵称、生日、头像表情
2. **自动生日提醒** - 系统自动在生日前 7 天创建提醒
3. **自定义提醒** - 手动创建任何重要事项的提醒
4. **身份切换** - 快速切换当前用户身份
5. **提醒状态管理** - 标记完成、删除提醒

## 🚀 使用步骤

### 1. 创建数据库表

在 Supabase SQL Editor 中执行 `profile-tables.sql` 文件中的 SQL 语句：

```sql
-- 这会创建两个表：
-- user_profiles: 存储个人资料
-- reminders: 存储提醒事项
```

### 2. 添加个人资料

1. 访问 `/profile` 页面
2. 点击"+ 添加/编辑个人资料"
3. 填写信息：
   - **姓名**（必填）：例如 `zyx` 或 `zly`
   - **昵称**（可选）：例如 `星星` 或 `梨梨`
   - **生日**（必填）：选择出生日期
   - **对方的名字**（可选）：填写另一半的名字
   - **头像表情**：选择一个喜欢的 emoji
4. 点击"保存资料"

### 3. 自动生日提醒

系统会自动检测：

- 当生日在 7 天内时，自动创建提醒
- 提醒会显示"提醒谁"（对方的名字）
- 提醒内容包含"准备生日惊喜"的建议

### 4. 创建自定义提醒

点击"+ 新提醒"按钮：

- **提醒标题**：例如"买纪念日礼物"
- **提醒内容**：详细说明
- **提醒日期**：选择日期
- **提醒谁**：从已有用户中选择
- **创建者**：填写你的名字

### 5. 管理提醒

提醒卡片会根据紧急程度显示不同颜色：

- 🔴 **红色** - 今天的提醒（带"今天！"标签，会闪烁）
- 🟠 **橙色** - 3 天内的紧急提醒
- 🔵 **蓝色** - 未来的提醒
- ⚫ **灰色** - 已完成或过期的提醒

操作按钮：

- **✓ 完成** - 标记提醒已完成（会变灰色）
- **删除** - 永久删除提醒

### 6. 切换用户身份

在页面顶部的"当前身份"区域：

- 点击自己的名字选择身份
- 选中的身份会高亮显示
- 身份会保存在浏览器中

## 💡 使用场景示例

### 场景 1：生日提醒

1. zyx 添加个人资料，生日是 6 月 15 日
2. 系统在 6 月 8 日（7 天前）自动创建提醒
3. zly 打开页面会看到："zyx 的生日 - 别忘了给星星准备生日惊喜！🎂"
4. 提醒日期：6 月 15 日

### 场景 2：纪念日提醒

1. zyx 选择自己的身份
2. 创建提醒：
   - 标题："100 天纪念日"
   - 内容："订餐厅、买花、准备礼物"
   - 日期：纪念日当天
   - 提醒谁：zly
   - 创建者：zyx
3. zly 打开页面会在 3 天前看到橙色的紧急提醒

### 场景 3：重要事项

- "带 zly 看医生" - 提醒 zyx
- "zyx 考试加油" - 提醒 zly 去送祝福
- "换季添置衣服" - 相互提醒

## 🎨 界面说明

### 个人资料卡片

显示内容：

- 大头像 emoji
- 昵称和姓名
- 生日和当前年龄
- 距离下次生日的天数
- 另一半的名字

### 提醒卡片

显示内容：

- 标题和描述
- 提醒日期和倒计时
- 提醒对象
- 创建者
- 状态标签（今天/紧急/已完成）

## 📱 响应式设计

- **手机端**：单列布局，按钮垂直排列
- **平板端**：2 列布局
- **电脑端**：完整布局，所有功能可见

## 🔔 提醒通知方式

目前支持：

1. **页面内显示** - 打开个人资料页面即可看到所有提醒
2. **紧急标记** - 今天和 3 天内的提醒会特别标注

未来可扩展：

- 浏览器推送通知
- 邮件提醒
- 微信消息提醒

## 💾 数据存储

所有数据永久保存在 Supabase 数据库：

- user_profiles 表 - 个人资料
- reminders 表 - 提醒事项
- 支持实时同步，两人可同时使用

## 🎯 最佳实践

1. **及时更新资料** - 确保生日等信息准确
2. **提前创建提醒** - 重要日子提前 1-2 周创建提醒
3. **标记完成** - 处理完提醒后及时标记，保持列表清爽
4. **定期清理** - 删除过期或不需要的提醒
5. **相互提醒** - 为对方创建贴心的提醒事项

## 🆘 常见问题

**Q: 生日提醒没有自动创建？**
A: 刷新页面，系统会自动检测并创建 7 天内的生日提醒

**Q: 如何为对方创建提醒？**
A: 在"提醒谁"下拉框中选择对方的名字

**Q: 提醒能提前多久看到？**
A: 任何时候都能看到所有未完成的提醒，3 天内的会标记为紧急

**Q: 可以编辑已创建的提醒吗？**
A: 目前不支持编辑，可以删除后重新创建

## 🎉 享受使用！

这个功能让你们可以更好地关心彼此，不错过任何重要时刻！💕
